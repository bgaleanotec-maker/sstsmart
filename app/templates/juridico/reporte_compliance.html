{% extends "base.html" %}

{% block content %}
<div class="container mx-auto p-6">
    <h1 class="text-3xl font-bold mb-6">üìä Reporte de Cumplimiento - Decreto 1072/2015</h1>
    
    <!-- Encabezado -->
    <div class="bg-gradient-to-r from-blue-600 to-blue-800 text-white rounded-lg shadow p-8 mb-6">
        <div class="grid grid-cols-4 gap-8">
            <div>
                <p class="text-sm opacity-90">Decreto</p>
                <p class="text-2xl font-bold">1072/2015</p>
            </div>
            <div>
                <p class="text-sm opacity-90">Art√≠culo</p>
                <p class="text-2xl font-bold">2.2.3.1</p>
            </div>
            <div>
                <p class="text-sm opacity-90">Fecha de Evaluaci√≥n</p>
                <p class="text-xl font-bold">{{ 'now'|strftime('%Y-%m-%d') }}</p>
            </div>
            <div>
                <p class="text-sm opacity-90">Estado General</p>
                <p class="text-2xl font-bold">‚úì CONFORME</p>
            </div>
        </div>
    </div>
    
    <!-- Score de Cumplimiento -->
    <div class="bg-white rounded-lg shadow p-8 mb-6">
        <h2 class="text-2xl font-bold mb-6">Puntuaci√≥n de Cumplimiento</h2>
        
        <div class="grid grid-cols-3 gap-6 mb-8">
            <!-- Puntuaci√≥n General -->
            <div class="bg-gradient-to-br from-green-50 to-green-100 rounded-lg p-6 text-center">
                <p class="text-gray-700 text-sm mb-2">CUMPLIMIENTO GENERAL</p>
                <div class="relative w-32 h-32 mx-auto">
                    <svg class="w-full h-full" viewBox="0 0 120 120">
                        <!-- C√≠rculo de fondo -->
                        <circle cx="60" cy="60" r="50" fill="none" stroke="#e5e7eb" stroke-width="8"/>
                        <!-- C√≠rculo de progreso -->
                        <circle cx="60" cy="60" r="50" fill="none" stroke="#10b981" stroke-width="8"
                                stroke-dasharray="251.2" stroke-dashoffset="0" 
                                transform="rotate(-90 60 60)" style="transition: stroke-dashoffset 0.5s;"/>
                    </svg>
                    <div class="absolute inset-0 flex items-center justify-center">
                        <span class="text-3xl font-bold text-green-600">95%</span>
                    </div>
                </div>
                <p class="text-sm text-gray-600 mt-4">EXCELENTE</p>
            </div>
            
            <!-- Trazabilidad -->
            <div class="bg-gradient-to-br from-blue-50 to-blue-100 rounded-lg p-6">
                <h3 class="font-bold text-blue-900 mb-4">Trazabilidad</h3>
                <div class="space-y-3">
                    <div>
                        <p class="text-sm text-gray-700 mb-1">Consultas Auditadas</p>
                        <p class="text-2xl font-bold text-blue-600">100%</p>
                    </div>
                    <div class="w-full bg-blue-200 rounded-full h-3">
                        <div class="bg-blue-600 h-3 rounded-full" style="width: 100%"></div>
                    </div>
                </div>
                <p class="text-xs text-gray-600 mt-4">‚úì Todas las acciones registradas</p>
            </div>
            
            <!-- Clasificaci√≥n -->
            <div class="bg-gradient-to-br from-purple-50 to-purple-100 rounded-lg p-6">
                <h3 class="font-bold text-purple-900 mb-4">Clasificaci√≥n</h3>
                <div class="space-y-3">
                    <div>
                        <p class="text-sm text-gray-700 mb-1">Documentos Clasificados</p>
                        <p class="text-2xl font-bold text-purple-600">100%</p>
                    </div>
                    <div class="w-full bg-purple-200 rounded-full h-3">
                        <div class="bg-purple-600 h-3 rounded-full" style="width: 100%"></div>
                    </div>
                </div>
                <p class="text-xs text-gray-600 mt-4">‚úì Todos con nivel definido</p>
            </div>
        </div>
        
        <!-- Retenci√≥n -->
        <div class="bg-orange-50 border-l-4 border-orange-600 p-6">
            <h3 class="font-bold text-orange-900 mb-4">Retenci√≥n Documental</h3>
            <div class="space-y-3">
                <div class="flex justify-between">
                    <span class="text-gray-700">Documentos con Retenci√≥n Configurada</span>
                    <span class="font-bold">100%</span>
                </div>
                <div class="w-full bg-orange-200 rounded-full h-3">
                    <div class="bg-orange-600 h-3 rounded-full" style="width: 100%"></div>
                </div>
            </div>
            <p class="text-xs text-gray-600 mt-4">‚úì Todos tienen tabla de retenci√≥n asignada</p>
        </div>
    </div>
    
    <!-- Detalles de Cumplimiento -->
    <div class="grid grid-cols-2 gap-6 mb-6">
        <!-- Art√≠culos Cumplidos -->
        <div class="bg-white rounded-lg shadow p-6">
            <h3 class="text-xl font-bold mb-4">‚úì Art√≠culos Cumplidos</h3>
            <ul class="space-y-2 text-sm">
                <li class="flex items-start">
                    <span class="text-green-600 mr-2">‚úì</span>
                    <span>2.2.3.1.1 - Pol√≠tica de documentaci√≥n SST</span>
                </li>
                <li class="flex items-start">
                    <span class="text-green-600 mr-2">‚úì</span>
                    <span>2.2.3.1.2 - Identificaci√≥n de documentos</span>
                </li>
                <li class="flex items-start">
                    <span class="text-green-600 mr-2">‚úì</span>
                    <span>2.2.3.1.3 - Clasificaci√≥n de informaci√≥n</span>
                </li>
                <li class="flex items-start">
                    <span class="text-green-600 mr-2">‚úì</span>
                    <span>2.2.3.1.4 - Control de cambios</span>
                </li>
                <li class="flex items-start">
                    <span class="text-green-600 mr-2">‚úì</span>
                    <span>2.2.3.1.5 - Revisi√≥n y aprobaci√≥n</span>
                </li>
                <li class="flex items-start">
                    <span class="text-green-600 mr-2">‚úì</span>
                    <span>2.2.3.1.9 - Trazabilidad completa</span>
                </li>
                <li class="flex items-start">
                    <span class="text-green-600 mr-2">‚úì</span>
                    <span>2.2.3.1.10 - Registro de cambios</span>
                </li>
                <li class="flex items-start">
                    <span class="text-green-600 mr-2">‚úì</span>
                    <span>2.2.3.1.14 - Retenci√≥n y disposici√≥n</span>
                </li>
            </ul>
        </div>
        
        <!-- M√©tricas Clave -->
        <div class="bg-white rounded-lg shadow p-6">
            <h3 class="text-xl font-bold mb-4">üìä M√©tricas Clave</h3>
            <div class="space-y-4">
                <div class="flex justify-between items-center p-3 bg-gray-50 rounded">
                    <span class="text-gray-700">Total Consultas</span>
                    <span class="text-2xl font-bold text-blue-600">142</span>
                </div>
                <div class="flex justify-between items-center p-3 bg-gray-50 rounded">
                    <span class="text-gray-700">Documentos Almacenados</span>
                    <span class="text-2xl font-bold text-purple-600">487</span>
                </div>
                <div class="flex justify-between items-center p-3 bg-gray-50 rounded">
                    <span class="text-gray-700">Acciones Auditadas</span>
                    <span class="text-2xl font-bold text-green-600">2,341</span>
                </div>
                <div class="flex justify-between items-center p-3 bg-gray-50 rounded">
                    <span class="text-gray-700">Tiempo Promedio Resoluci√≥n</span>
                    <span class="text-2xl font-bold text-orange-600">18 d√≠as</span>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Documentos Pr√≥ximos a Vencer -->
    <div class="bg-white rounded-lg shadow p-6 mb-6">
        <h3 class="text-xl font-bold mb-4">‚ö†Ô∏è Documentos Pr√≥ximos a Vencer</h3>
        
        <div class="space-y-2">
            <div class="flex items-center justify-between p-3 bg-red-50 border border-red-200 rounded">
                <div>
                    <p class="font-semibold">Concepto_001_2024</p>
                    <p class="text-sm text-gray-600">Vence en 30 d√≠as</p>
                </div>
                <span class="px-3 py-1 rounded text-sm font-bold bg-red-100 text-red-800">CR√çTICO</span>
            </div>
            <div class="flex items-center justify-between p-3 bg-yellow-50 border border-yellow-200 rounded">
                <div>
                    <p class="font-semibold">Dictamen_042_2024</p>
                    <p class="text-sm text-gray-600">Vence en 60 d√≠as</p>
                </div>
                <span class="px-3 py-1 rounded text-sm font-bold bg-yellow-100 text-yellow-800">PR√ìXIMO</span>
            </div>
        </div>
    </div>
    
    <!-- Recomendaciones -->
    <div class="bg-blue-50 border border-blue-200 rounded-lg p-6">
        <h3 class="text-xl font-bold text-blue-900 mb-4">üí° Recomendaciones</h3>
        <ul class="space-y-2 text-sm text-gray-700">
            <li>‚úì Continuar con auditor√≠a regular de documentos</li>
            <li>‚úì Mantener trazabilidad completa de todas las acciones</li>
            <li>‚úì Revisar documentos pr√≥ximos a vencer antes de destrucci√≥n</li>
            <li>‚úì Realizar backups mensuales de documentaci√≥n cr√≠tica</li>
            <li>‚úì Capacitar nuevos usuarios en pol√≠ticas de retenci√≥n</li>
        </ul>
    </div>
</div>
{% endblock %}